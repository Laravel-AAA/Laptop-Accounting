import{q as x,r as l,j as e,y as h}from"./app-343c4aa9.js";import{D as s}from"./Dropdown-e28379dd.js";import{a as f}from"./index.esm-aea19c13.js";import{F as j,a as g}from"./index.esm-6e0d9836.js";import{A as y}from"./AlertModal-4cd63d2a.js";import{K as o}from"./KeyValue-a0022af7.js";import{F as D}from"./FromDate-1b4afe8d.js";import"./transition-11d8b5d4.js";import"./iconBase-1a220b0c.js";import"./TemplateModal-0e21b8ff.js";import"./SecondaryMaterialBtn-5be6396c.js";import"./PrimaryMaterialBtn-66bf6bc3.js";import"./Num-96abf7a7.js";function v({bill:t,isOpen:r,requestClose:n}){const a=x().props.auth.business.taxPercent,[u,m]=l.useState(!1),c=l.useMemo(()=>t.transactions.reduce((i,d)=>i+(d.product.price??0)*d.quantity,0),[t.transactions]),p=c*(1+a);return e.jsx(y,{icon:"danger",title:"Are you sure?",paragraph:e.jsxs("span",{className:"space-y-1",children:["You are about to delete the bill with this information:",e.jsx("br",{}),e.jsx(o,{k:"Date",v:e.jsx(D,{date:t.created_at})}),e.jsx(o,{k:"Sub Total Price",numProps:{amount:c,defaultNoAmount:!0,showCurrency:!0}}),e.jsx(o,{k:"Total Price",numProps:{amount:p,defaultNoAmount:!0,showCurrency:!0}}),e.jsx(o,{k:"Received",numProps:{amount:t.cashReceived,showCurrency:!0,noAmount:"Digital Payment"}})]}),buttons:{danger:{text:"Delete",props:{onClick:()=>{m(!0),h.delete(route("bill.destroy",t.id),{preserveScroll:!0,preserveState:!0})},disabled:u}},secondary:{text:"Cancel"}},isOpen:r,requestClose:i=>n(i)})}function q({bill:t,user:r}){const[n,a]=l.useState(!1);return e.jsxs("div",{className:"text-center  ",children:[e.jsxs(s,{children:[e.jsx(s.Trigger,{children:e.jsx("div",{className:"inline-block rounded-[50%] p-2 align-middle text-gray-700 transition duration-200 ease-in-out hover:bg-black hover:bg-opacity-10 hover:text-gray-900 focus:outline-none",children:e.jsx(f,{className:"text-lg"})})}),e.jsxs(s.Content,{children:[e.jsx(s.Link,{disabled:!(t.createdBy_id==r.id||r.role=="Owner"||r.role=="Maintainer"),href:"/checkout/"+t.id,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(j,{className:"text-base"})," Details"]})}),e.jsx(s.Button,{disabled:!(t.createdBy_id==r.id||r.role=="Owner"||r.role=="Maintainer"),onClick:()=>a(!0),children:e.jsxs("div",{className:"flex items-center gap-3 text-danger-600",children:[e.jsx(g,{className:"text-base"})," Delete"]})})]})]}),e.jsx(v,{bill:t,isOpen:n,requestClose:()=>a(!1)})]})}export{q as default};
