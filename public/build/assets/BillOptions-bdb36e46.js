import{q as h,r as c,j as e,y as j}from"./app-1c25774f.js";import{D as s}from"./Dropdown-c98de6ee.js";import{a as f}from"./index.esm-cd9bbf79.js";import{F as g,a as y,b as v}from"./index.esm-1f74e87a.js";import{A as N}from"./AlertModal-02ba5dd5.js";import{K as o}from"./KeyValue-e9ed77e7.js";import{F as b}from"./FromDate-d61fc7b4.js";import{N as l}from"./Num-763d349f.js";import"./transition-f1e823b0.js";import"./iconBase-338e10db.js";import"./TemplateModal-6d8aef30.js";import"./SecondaryMaterialBtn-184bd2fc.js";import"./PrimaryMaterialBtn-702e4d0a.js";function C({bill:t,isOpen:r,requestClose:i}){const a=h().props.auth.business.taxPercent,[u,x]=c.useState(!1),d=c.useMemo(()=>t.transactions.reduce((n,m)=>n+(m.product.price??0)*m.quantity,0),[t.transactions]),p=d*(1+a);return e.jsx(N,{icon:"danger",title:"Are you sure?",paragraph:e.jsxs("span",{className:"space-y-1",children:["You are about to delete the bill with this information:",e.jsx("br",{}),e.jsx(o,{k:"Date",v:e.jsx(b,{date:t.created_at})}),e.jsx(o,{k:"Sub Total Price",v:e.jsx(l,{amount:d,defaultNoAmount:!0,showCurrency:!0})}),e.jsx(o,{k:"Total Price",v:e.jsx(l,{amount:p,defaultNoAmount:!0,showCurrency:!0})}),e.jsx(o,{k:"Received",v:e.jsx(l,{amount:t.cashReceived,showCurrency:!0,noAmount:"Digital Payment"})})]}),buttons:{danger:{text:"Delete",props:{onClick:()=>{x(!0),j.delete(route("bill.destroy",t.id),{preserveScroll:!0,preserveState:!0})},disabled:u}},secondary:{text:"Cancel"}},isOpen:r,requestClose:n=>i(n)})}function L({bill:t,user:r}){const[i,a]=c.useState(!1);return e.jsxs("div",{className:"text-center  ",children:[e.jsxs(s,{children:[e.jsx(s.Trigger,{children:e.jsx("div",{className:"inline-block rounded-[50%] p-2 align-middle text-gray-700 transition duration-200 ease-in-out hover:bg-black hover:bg-opacity-10 hover:text-gray-900 focus:outline-none",children:e.jsx(f,{className:"text-lg"})})}),e.jsxs(s.Content,{children:[e.jsx(s.Link,{href:route("bill.show",t.id),children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(g,{className:"text-base text-gray-800"})," View"]})}),e.jsx(s.Link,{disabled:!(t.createdBy_id==r.id||r.role=="Owner"||r.role=="Maintainer"),href:route("bill.edit",t.id),children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(y,{className:"text-base text-gray-800"})," Edit"]})}),e.jsx(s.Button,{disabled:!(t.createdBy_id==r.id||r.role=="Owner"||r.role=="Maintainer"),onClick:()=>a(!0),children:e.jsxs("div",{className:"flex items-center gap-3 text-danger-600",children:[e.jsx(v,{className:"text-base"})," Delete"]})})]})]}),e.jsx(C,{bill:t,isOpen:i,requestClose:()=>a(!1)})]})}export{L as default};
