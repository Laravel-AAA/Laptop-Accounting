import{r as a,j as u,R as f}from"./app-d4c37d60.js";import{r as x}from"./index-392c9826.js";import{C as d}from"./COUNTRIES-4fa12db1.js";import{S as y}from"./SelectInput-338bde67.js";import"./index-61ccea2f.js";import"./ErrorMessage-659c54b3.js";function S({form:t,chosenCountry:c}){let s=a.useMemo(()=>d.filter(e=>{var r,n,o,p;return((n=(r=e.currencies)==null?void 0:r[0])==null?void 0:n.name)&&((p=(o=e.currencies)==null?void 0:o[0])==null?void 0:p.symbol)}).sort((e,r)=>e.currencies[0].name>r.currencies[0].name?1:e.currencies[0].name<r.currencies[0].name?-1:0).filter((e,r,n)=>n.length>r+1&&e.currencies[0].name!==n[r+1].currencies[0].name),[]);function l(e){let r=null;return e!==null&&(r=s.findIndex(n=>n.name==e.name)),r===-1&&(r=null),r}a.useEffect(()=>{let e=l(c);e&&(m(e),t.setData("currency",s[e].currencies[0].symbol))},[c]);const[i,m]=a.useState(l(c));return u.jsx(y,{label:"Currency",value:i==null?void 0:i.toString(),errorMsg:t.errors.currency,hideError:t.isDirty("currency"),onChange:e=>{m(Number(e)),t.setData("currency",s[Number(e)].currencies[0].symbol)},required:!0,selected:e=>e&&f.cloneElement(e,{disabled:!0,className:"flex items-center opacity-100 px-0 gap-2 pointer-events-none"}),children:s.map((e,r)=>u.jsxs(x.Option,{value:r.toString(),className:"flex items-center gap-2",children:[u.jsx("span",{className:"w-7 text-gray-900",children:e.currencies[0].symbol}),e.currencies[0].name]},r))})}export{S as default};
