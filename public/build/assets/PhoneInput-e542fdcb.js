import{j as r}from"./app-838cb2bb.js";import{r as s}from"./index-82366f85.js";import{C as i}from"./COUNTRIES-4fa12db1.js";import"./index-1dd53fcd.js";function m({form:n,chosenCountry:l}){const o=i.filter(e=>e.countryCallingCode).sort((e,t)=>e.name>t.name?1:e.name<t.name?-1:0);let a;return n.data.countryCallingCode&&(a=o.find(e=>e.countryCallingCode===n.data.countryCallingCode)),a===void 0&&(a=l!=null&&l.countryCallingCode?l:o[0]),r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"relative flex w-full",children:[r.jsxs(s.Menu,{placement:"bottom-start",children:[r.jsx(s.MenuHandler,{children:r.jsxs(s.Button,{size:"lg",ripple:!1,disabled:n.processing,variant:"text",color:"blue-gray",className:"flex h-11 items-center gap-2 rounded-r-none border border-r-0 border-blue-gray-200 bg-blue-gray-500/10 pl-3",children:[r.jsx("img",{src:a.flags.svg,alt:a.name,className:"h-4 w-5 rounded object-cover"}),a.countryCallingCode]})}),r.jsx(s.MenuList,{className:"max-h-[20rem] max-w-[18rem]",children:o.map((e,t)=>r.jsxs(s.MenuItem,{value:e.name,className:"flex items-center gap-2",onClick:()=>n.setData("countryCallingCode",e.countryCallingCode),children:[r.jsx("img",{src:e.flags.svg,alt:e.name,className:"h-5 w-7 rounded object-cover"}),e.name," ",r.jsx("span",{className:"ml-auto",children:e.countryCallingCode})]},e.name))})]}),r.jsx(s.Input,{label:"Phone Number",color:"teal",size:"lg",type:"number",className:"remove-arrow w-full rounded-l-none focus:rounded-l-none focus:ring-0",value:n.data.phone,error:!!n.errors.phone&&!n.isDirty("phone"),onChange:e=>n.setData("phone",e.target.value),disabled:n.processing,required:!n.processing,crossOrigin:void 0})]}),(n.errors.phone||n.errors.countryCallingCode)&&r.jsx("p",{className:"ml-2 mt-2 text-xs text-danger-600 ",children:n.errors.phone||n.errors.countryCallingCode})]})}export{m as PhoneInput};
