import{r as h,j as o,y as g}from"./app-b733aa80.js";import P from"./AdvancedPlan-2529c2f7.js";import v from"./BasicPlan-9e1414f9.js";import A from"./EnhancedPlan-e7cca859.js";import j from"./SubscriptionState-8f16b993.js";import w from"./CurrentPlanAction-55dd9c89.js";import C from"./ToggleMonthlyYearly-fa94fff8.js";import E from"./SubscriptionProgress-73f2b9d6.js";import{A as y}from"./AlertModal-71b3ab3b.js";import{S as N}from"./SupportEmailLink-57ea6a94.js";import{u as B}from"./useTranslation-c33630a8.js";import"./Plan-182a46ba.js";import"./PrimaryButton-326469d2.js";import"./A-26d2f0eb.js";import"./Num-631ee9e0.js";import"./index-6016834e.js";import"./index-c9736f8d.js";import"./SharedBenefits-5f286202.js";import"./index-84652058.js";import"./iconBase-e5c9f32e.js";import"./index-9ca673dc.js";import"./FromDate-4e94fd30.js";import"./KeyValue-48762baa.js";import"./Dropdown-1840d60d.js";import"./BetterLink-91206f94.js";import"./transition-177ebb00.js";import"./TemplateModal-1a00ecdb.js";import"./SecondaryMaterialBtn-e8480018.js";import"./PrimaryMaterialBtn-2093adc3.js";function se({business:u,subscriptionLinks:t}){const[s,x]=h.useState("Monthly"),[a,d]=h.useState({from:"Basic",to:"Basic",isShow:!1,route:""}),[S,l]=h.useState(!1);console.log(t);const{state:c,subscribedTo:e,progress:b}=t,m=e==="Advanced"||e==="Enhanced"||e==="Basic",f="!from-danger-500 !to-danger-700",{t:n}=B();return o.jsxs("section",{className:"bg-white p-4 shadow sm:rounded-lg sm:p-8",children:[o.jsx(y,{title:n(p(a.from,a.to)?"Upgrade":"Downgrade")+" "+n("to")+" "+n(a.to),paragraph:n("You are about to {{isUpgrade}} your subscription plan from {{from}} to {{to}}. We will charge or refund the difference between the old and new billing amount right away. The calculation is based on the number of days left in the current billing cycle.",{isUpgrade:n(p(a.from,a.to)?"upgrade":"downgrade"),from:n(a.from),to:n(a.to)}),isOpen:a.isShow,requestClose:()=>d(r=>({...r,isShow:!1})),buttons:[{type:p(a.from,a.to)?"primary":"danger",text:p(a.from,a.to)?"Upgrade":"Downgrade",props:{onClick:()=>g.visit(a.route)}},{text:"Cancel",type:"secondary"}]},"BusinessSubscriptionSectionUpgradeDowngradeAlert"),o.jsx(y,{title:"Pause Subscription",paragraph:"Your subscription stays active until the end of this billing cycle. You won’t be charged after that. Click ‘pause now’ to pause it immediately (not advised).",isOpen:S,requestClose:()=>l(!1),buttons:[{type:"danger",text:"Pause",props:{onClick:()=>g.visit(route("subscription.pause"))}},{type:"danger",text:"Pause Now",props:{onClick:()=>g.visit(route("subscription.pauseNow"))}},{text:"Cancel",type:"secondary"}]},"BusinessSubscriptionSectionPauseSubscription"),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("header",{className:"max-w-xl",children:[o.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Subscription"}),o.jsxs("p",{className:"text-normal mb-4 text-gray-600",children:[n("If you need more resources for your POS system, please contact us and we will be happy to assist you with a custom plan."),o.jsx(N,{})]}),o.jsx(j,{subscriptionData:t})]}),b&&o.jsx(E,{progress:b}),o.jsx(C,{period:s,setPeriod:r=>x(r)}),o.jsxs("div",{className:"space-y-8 sm:gap-6 lg:grid lg:grid-cols-3 lg:space-y-0 xl:gap-10",children:[o.jsx(v,{period:s,planProps:{actionNode:e!=="Basic"?void 0:o.jsx(w,{state:c,requestShowPauseSubAlert:()=>l(!0)}),actionText:e==="Enhanced"||e==="Advanced"?"Downgrade":"Subscribe",actionProps:{disabled:c==="Canceled",className:e==="Enhanced"||e==="Advanced"?f:"",onClick:()=>{var r,i;return m?d({from:e,to:"Basic",isShow:!0,route:route("subscription.swapToBasic",s)}):window.Paddle.Checkout.open(s==="Monthly"?(r=t.basic)==null?void 0:r.monthly:(i=t.basic)==null?void 0:i.annually)}}}}),o.jsx(A,{period:s,planProps:{actionNode:e!=="Enhanced"?void 0:o.jsx(w,{state:c,requestShowPauseSubAlert:()=>l(!0)}),actionText:e==="Basic"?"Upgrade":e==="Advanced"?"Downgrade":"Subscribe",actionProps:{disabled:c==="Canceled",className:e==="Advanced"?f:"",onClick:()=>{var r,i;return m?d({from:e,to:"Enhanced",isShow:!0,route:route("subscription.swapToEnhanced",s)}):window.Paddle.Checkout.open(s==="Monthly"?(r=t.enhanced)==null?void 0:r.monthly:(i=t.enhanced)==null?void 0:i.annually)}}}}),o.jsx(P,{period:s,planProps:{actionNode:e!=="Advanced"?void 0:o.jsx(w,{state:c,requestShowPauseSubAlert:()=>l(!0)}),actionText:e==="Basic"||e==="Enhanced"?"Upgrade":"Subscribe",actionProps:{disabled:c==="Canceled",onClick:()=>{var r,i;return m?d({from:e,to:"Advanced",isShow:!0,route:route("subscription.swapToAdvanced",s)}):window.Paddle.Checkout.open(s==="Monthly"?(r=t.advanced)==null?void 0:r.monthly:(i=t.advanced)==null?void 0:i.annually)}}}})]})]})]})}function p(u,t){return u==="Basic"&&(t==="Enhanced"||t==="Advanced")||u==="Enhanced"&&t==="Advanced"}export{se as default};
