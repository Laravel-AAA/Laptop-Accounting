import{r as m,j as e,y as h}from"./app-dc6d883c.js";import S from"./AdvancedPlan-9add08eb.js";import P from"./BasicPlan-2d63d239.js";import j from"./EnhancedPlan-871531e5.js";import v from"./SubscriptionState-978c2c39.js";import g from"./CurrentPlanAction-eff5b441.js";import A from"./ToggleMonthlyYearly-e9c9e3a2.js";import C from"./SubscriptionProgress-fb754f7b.js";import{A as y}from"./AlertModal-423e40ad.js";import{S as N}from"./SupportEmailLink-9631a680.js";import"./Plan-59d59c91.js";import"./PrimaryButton-53cb86f4.js";import"./A-733d63c2.js";import"./Num-7fe4ca16.js";import"./index-6c22716d.js";import"./index-e16479b8.js";import"./SharedBenefits-58268ace.js";import"./index.esm-145945cb.js";import"./iconBase-75f80f3d.js";import"./index.esm-242d517d.js";import"./FromDate-9bedaf4e.js";import"./KeyValue-45489422.js";import"./Dropdown-716f79b2.js";import"./BetterLink-b76a6648.js";import"./transition-ea3c1e5a.js";import"./TemplateModal-854b39c3.js";import"./SecondaryMaterialBtn-91b9e7af.js";import"./PrimaryMaterialBtn-1d0eae5e.js";function oe({business:p,subscriptionLinks:o}){const[s,x]=m.useState("Monthly"),[a,d]=m.useState({from:"Basic",to:"Basic",isShow:!1,route:""}),[f,c]=m.useState(!1);console.log(o);const{state:i,subscribedTo:t,progress:b}=o,u=t==="Advanced"||t==="Enhanced"||t==="Basic",w="!from-danger-500 !to-danger-700";return e.jsxs("section",{className:"bg-white p-4 shadow sm:rounded-lg sm:p-8",children:[e.jsx(y,{title:`${l(a.from,a.to)?"Upgrade":"Downgrade"} to ${a.to}`,paragraph:`You are about to ${l(a.from,a.to)?"upgrade":"downgrade"} your subscription plan from ${a.from} to ${a.to}. We will charge or refund the difference between the old and new billing amount right away. The calculation is based on the number of days left in the current billing cycle.`,isOpen:a.isShow,requestClose:()=>d(r=>({...r,isShow:!1})),buttons:[{type:l(a.from,a.to)?"primary":"danger",text:l(a.from,a.to)?"Upgrade":"Downgrade",props:{onClick:()=>h.visit(a.route)}},{text:"Cancel",type:"secondary"}]},"upgrade/downgrade alert"),e.jsx(y,{title:"Pause Subscription",paragraph:"Your subscription stays active until the end of this billing cycle. You won’t be charged after that. Click ‘pause now’ to pause it immediately (not advised).",isOpen:f,requestClose:()=>c(!1),buttons:[{type:"danger",text:"Pause",props:{onClick:()=>h.visit(route("subscription.pause"))}},{type:"danger",text:"Pause Now",props:{onClick:()=>h.visit(route("subscription.pauseNow"))}},{text:"Cancel",type:"secondary"}]},"Pause Subscription"),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("header",{className:"max-w-xl",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Subscription"}),e.jsxs("p",{className:"text-normal mb-4 text-gray-600",children:["If you need more resources for your POS system, please contact us and we will be happy to assist you with a custom plan."," ",e.jsx(N,{})]}),e.jsx(v,{subscriptionData:o})]}),b&&e.jsx(C,{progress:b}),e.jsx(A,{period:s,setPeriod:r=>x(r)}),e.jsxs("div",{className:"space-y-8 sm:gap-6 lg:grid lg:grid-cols-3 lg:space-y-0 xl:gap-10",children:[e.jsx(P,{period:s,planProps:{actionNode:t!=="Basic"?void 0:e.jsx(g,{state:i,requestShowPauseSubAlert:()=>c(!0)}),actionText:t==="Enhanced"||t==="Advanced"?"Downgrade":"Subscribe",actionProps:{disabled:i==="Canceled",className:t==="Enhanced"||t==="Advanced"?w:"",onClick:()=>{var r,n;return u?d({from:t,to:"Basic",isShow:!0,route:route("subscription.swapToBasic",s)}):window.Paddle.Checkout.open(s==="Monthly"?(r=o.basic)==null?void 0:r.monthly:(n=o.basic)==null?void 0:n.annually)}}}}),e.jsx(j,{period:s,planProps:{actionNode:t!=="Enhanced"?void 0:e.jsx(g,{state:i,requestShowPauseSubAlert:()=>c(!0)}),actionText:t==="Basic"?"Upgrade":t==="Advanced"?"Downgrade":"Subscribe",actionProps:{disabled:i==="Canceled",className:t==="Advanced"?w:"",onClick:()=>{var r,n;return u?d({from:t,to:"Enhanced",isShow:!0,route:route("subscription.swapToEnhanced",s)}):window.Paddle.Checkout.open(s==="Monthly"?(r=o.enhanced)==null?void 0:r.monthly:(n=o.enhanced)==null?void 0:n.annually)}}}}),e.jsx(S,{period:s,planProps:{actionNode:t!=="Advanced"?void 0:e.jsx(g,{state:i,requestShowPauseSubAlert:()=>c(!0)}),actionText:t==="Basic"||t==="Enhanced"?"Upgrade":"Subscribe",actionProps:{disabled:i==="Canceled",onClick:()=>{var r,n;return u?d({from:t,to:"Advanced",isShow:!0,route:route("subscription.swapToAdvanced",s)}):window.Paddle.Checkout.open(s==="Monthly"?(r=o.advanced)==null?void 0:r.monthly:(n=o.advanced)==null?void 0:n.annually)}}}})]}),e.jsxs("p",{className:"max-w-2xl text-danger-500",children:[e.jsx("b",{children:"WARNING"}),": This application is still in development and not ready for real subscription. Do not use your real credit card information to test the application. Instead, you can use the following test card details: Card Number:",e.jsx("b",{children:"4242 4242 4242 4242"}),", CVC:",e.jsx("b",{children:"100"}),", Name on card can be anything, and Expiration date can be any date in the future. Using any other card information may result in unwanted charges or errors."]})]})]})}function l(p,o){return p==="Basic"&&(o==="Enhanced"||o==="Advanced")||p==="Enhanced"&&o==="Advanced"}export{oe as default};
