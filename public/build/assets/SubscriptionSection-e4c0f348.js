import{r as h,j as o,y as g}from"./app-1ab1ca84.js";import P from"./AdvancedPlan-68f8e0ce.js";import v from"./BasicPlan-3014c669.js";import A from"./EnhancedPlan-460242d2.js";import j from"./SubscriptionState-6a3f2824.js";import w from"./CurrentPlanAction-d8a9695f.js";import C from"./ToggleMonthlyYearly-102e054d.js";import E from"./SubscriptionProgress-9948baa6.js";import{A as y}from"./AlertModal-52ef09ff.js";import{S as N}from"./SupportEmailLink-57894eb0.js";import{u as B}from"./useTranslation-2fada337.js";import"./Plan-9df70c6e.js";import"./PrimaryButton-92de8085.js";import"./A-1dd72ed4.js";import"./Num-9b021e8b.js";import"./index-dae4422a.js";import"./index-ef38a0f2.js";import"./SharedBenefits-cfa91c5f.js";import"./index-a39eae95.js";import"./iconBase-33f8de09.js";import"./index-e821efab.js";import"./FromDate-7d608d36.js";import"./KeyValue-acf150f5.js";import"./Dropdown-73119366.js";import"./BetterLink-6288ef0b.js";import"./transition-7855a772.js";import"./TemplateModal-c523cd55.js";import"./SecondaryMaterialBtn-41567cb8.js";import"./PrimaryMaterialBtn-64232e11.js";function se({business:u,subscriptionLinks:t}){const[s,x]=h.useState("Monthly"),[a,d]=h.useState({from:"Basic",to:"Basic",isShow:!1,route:""}),[S,l]=h.useState(!1);console.log(t);const{state:c,subscribedTo:e,progress:b}=t,m=e==="Advanced"||e==="Enhanced"||e==="Basic",f="!from-danger-500 !to-danger-700",{t:n}=B();return o.jsxs("section",{className:"bg-white p-4 shadow sm:rounded-lg sm:p-8",children:[o.jsx(y,{title:n(p(a.from,a.to)?"Upgrade":"Downgrade")+" "+n("to")+" "+n(a.to),paragraph:n("You are about to {{isUpgrade}} your subscription plan from {{from}} to {{to}}. We will charge or refund the difference between the old and new billing amount right away. The calculation is based on the number of days left in the current billing cycle.",{isUpgrade:n(p(a.from,a.to)?"upgrade":"downgrade"),from:n(a.from),to:n(a.to)}),isOpen:a.isShow,requestClose:()=>d(r=>({...r,isShow:!1})),buttons:[{type:p(a.from,a.to)?"primary":"danger",text:p(a.from,a.to)?"Upgrade":"Downgrade",props:{onClick:()=>g.visit(a.route)}},{text:"Cancel",type:"secondary"}]},"BusinessSubscriptionSectionUpgradeDowngradeAlert"),o.jsx(y,{title:"Pause Subscription",paragraph:"Your subscription stays active until the end of this billing cycle. You won’t be charged after that. Click ‘pause now’ to pause it immediately (not advised).",isOpen:S,requestClose:()=>l(!1),buttons:[{type:"danger",text:"Pause",props:{onClick:()=>g.visit(route("subscription.pause"))}},{type:"danger",text:"Pause Now",props:{onClick:()=>g.visit(route("subscription.pauseNow"))}},{text:"Cancel",type:"secondary"}]},"BusinessSubscriptionSectionPauseSubscription"),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("header",{className:"max-w-xl",children:[o.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Subscription"}),o.jsxs("p",{className:"text-normal mb-4 text-gray-600",children:[n("If you need more resources for your POS system, please contact us and we will be happy to assist you with a custom plan."),o.jsx(N,{})]}),o.jsx(j,{subscriptionData:t})]}),b&&o.jsx(E,{progress:b}),o.jsx(C,{period:s,setPeriod:r=>x(r)}),o.jsxs("div",{className:"space-y-8 sm:gap-6 lg:grid lg:grid-cols-3 lg:space-y-0 xl:gap-10",children:[o.jsx(v,{period:s,planProps:{actionNode:e!=="Basic"?void 0:o.jsx(w,{state:c,requestShowPauseSubAlert:()=>l(!0)}),actionText:e==="Enhanced"||e==="Advanced"?"Downgrade":"Subscribe",actionProps:{disabled:c==="Canceled",className:e==="Enhanced"||e==="Advanced"?f:"",onClick:()=>{var r,i;return m?d({from:e,to:"Basic",isShow:!0,route:route("subscription.swapToBasic",s)}):window.Paddle.Checkout.open(s==="Monthly"?(r=t.basic)==null?void 0:r.monthly:(i=t.basic)==null?void 0:i.annually)}}}}),o.jsx(A,{period:s,planProps:{actionNode:e!=="Enhanced"?void 0:o.jsx(w,{state:c,requestShowPauseSubAlert:()=>l(!0)}),actionText:e==="Basic"?"Upgrade":e==="Advanced"?"Downgrade":"Subscribe",actionProps:{disabled:c==="Canceled",className:e==="Advanced"?f:"",onClick:()=>{var r,i;return m?d({from:e,to:"Enhanced",isShow:!0,route:route("subscription.swapToEnhanced",s)}):window.Paddle.Checkout.open(s==="Monthly"?(r=t.enhanced)==null?void 0:r.monthly:(i=t.enhanced)==null?void 0:i.annually)}}}}),o.jsx(P,{period:s,planProps:{actionNode:e!=="Advanced"?void 0:o.jsx(w,{state:c,requestShowPauseSubAlert:()=>l(!0)}),actionText:e==="Basic"||e==="Enhanced"?"Upgrade":"Subscribe",actionProps:{disabled:c==="Canceled",onClick:()=>{var r,i;return m?d({from:e,to:"Advanced",isShow:!0,route:route("subscription.swapToAdvanced",s)}):window.Paddle.Checkout.open(s==="Monthly"?(r=t.advanced)==null?void 0:r.monthly:(i=t.advanced)==null?void 0:i.annually)}}}})]})]})]})}function p(u,t){return u==="Basic"&&(t==="Enhanced"||t==="Advanced")||u==="Enhanced"&&t==="Advanced"}export{se as default};
