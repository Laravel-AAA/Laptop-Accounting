import{r as u,j as e,y as h}from"./app-daabe024.js";import v from"./AdvancedPlan-b1aba37a.js";import C from"./BasicPlan-b7422117.js";import j from"./EnhancedPlan-fb7ce55d.js";import{F as A}from"./FromDate-f9de7ccd.js";import P from"./SubscriptionState-2588c411.js";import g from"./CurrentPlanAction-ff565249.js";import N from"./ToggleMonthlyYearly-8c69af26.js";import E from"./SubscriptionProgress-a5d7a276.js";import{A as f}from"./AlertModal-291ad2ce.js";import"./Plan-739378e2.js";import"./PrimaryButton-0a1dc0b0.js";import"./A-27e2e1f4.js";import"./index-3868f505.js";import"./index-124b767b.js";import"./Dropdown-bf847ad8.js";import"./BetterLink-20e6440a.js";import"./transition-a548b57a.js";import"./index.esm-3895a62a.js";import"./iconBase-65e92b51.js";import"./Num-0f5c0104.js";import"./index.esm-6f5899dd.js";import"./TemplateModal-ba5d6419.js";import"./SecondaryMaterialBtn-c75f9970.js";import"./PrimaryMaterialBtn-00490872.js";function ee({business:d,subscriptionLinks:a}){const[n,b]=u.useState("Monthly"),[t,c]=u.useState({from:"Basic",to:"Basic",isShow:!1,route:""}),[y,i]=u.useState(!1);console.log(a);const{state:S,subscribedTo:o,onTrial:p,progress:x}=a,m=o==="Advanced"||o==="Enhanced"||o==="Basic",w="!from-danger-500 !to-danger-700";return e.jsxs("section",{className:"bg-white p-4 shadow sm:rounded-lg sm:p-8",children:[e.jsx(f,{title:`${l(t.from,t.to)?"Upgrade":"Downgrade"} to ${t.to}`,paragraph:`You are about to ${l(t.from,t.to)?"upgrade":"downgrade"} your subscription plan from ${t.from} to ${t.to}. We will charge or refund the difference between the old and new billing amount right away. The calculation is based on the number of days left in the current billing cycle.`,isOpen:t.isShow,requestClose:()=>c(r=>({...r,isShow:!1})),buttons:[{type:l(t.from,t.to)?"primary":"danger",text:l(t.from,t.to)?"Upgrade":"Downgrade",props:{onClick:()=>h.visit(t.route)}},{text:"Cancel",type:"secondary"}]}),e.jsx(f,{title:"Cancel Subscription",paragraph:"Your subscription stays active until the end of this billing cycle. You won’t be charged after that. Click ‘cancel now’ to end it immediately (not advised).",isOpen:y,requestClose:()=>i(!1),buttons:[{type:"danger",text:"Cancel",props:{onClick:()=>h.visit(route("subscription.cancel"))}},{type:"danger",text:"Cancel Now",props:{onClick:()=>h.visit(route("subscription.cancelNow"))}}]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("header",{className:"max-w-3xl",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Subscription"}),e.jsx("p",{className:"text-normal text-gray-600",children:"blah blah"}),e.jsx(P,{state:S,onTrial:p}),p&&e.jsxs("p",{className:"text-normal text-gray-600",children:["Trial ends: ",e.jsx(A,{className:"text-orange-700",date:p})]})]}),x&&e.jsx(E,{progress:x}),e.jsx(N,{period:n,setPeriod:r=>b(r)}),e.jsxs("div",{className:"space-y-8 sm:gap-6 lg:grid lg:grid-cols-3 lg:space-y-0 xl:gap-10",children:[e.jsx(C,{period:n,planProps:{actionNode:o!=="Basic"?void 0:e.jsx(g,{requestShowCancelSubAlert:()=>i(!0)}),actionText:o==="Enhanced"||o==="Advanced"?"Downgrade":"Subscribe",actionProps:{className:o==="Enhanced"||o==="Advanced"?w:"",onClick:()=>{var r,s;return m?c({from:o,to:"Basic",isShow:!0,route:route("swapToBasic",n)}):window.Paddle.Checkout.open(n==="Monthly"?(r=a.basic)==null?void 0:r.monthly:(s=a.basic)==null?void 0:s.annually)}}}}),e.jsx(j,{period:n,planProps:{actionNode:o!=="Enhanced"?void 0:e.jsx(g,{requestShowCancelSubAlert:()=>i(!0)}),actionText:o==="Basic"?"Upgrade":o==="Advanced"?"Downgrade":"Subscribe",actionProps:{className:o==="Advanced"?w:"",onClick:()=>{var r,s;return m?c({from:o,to:"Enhanced",isShow:!0,route:route("swapToEnhanced",n)}):window.Paddle.Checkout.open(n==="Monthly"?(r=a.enhanced)==null?void 0:r.monthly:(s=a.enhanced)==null?void 0:s.annually)}}}}),e.jsx(v,{period:n,planProps:{actionNode:o!=="Advanced"?void 0:e.jsx(g,{requestShowCancelSubAlert:()=>i(!0)}),actionText:o==="Basic"||o==="Enhanced"?"Upgrade":"Subscribe",actionProps:{onClick:()=>{var r,s;return m?c({from:o,to:"Advanced",isShow:!0,route:route("swapToAdvanced",n)}):window.Paddle.Checkout.open(n==="Monthly"?(r=a.advanced)==null?void 0:r.monthly:(s=a.advanced)==null?void 0:s.annually)}}}})]})]})]})}function l(d,a){return d==="Basic"&&(a==="Enhanced"||a==="Advanced")||d==="Enhanced"&&a==="Advanced"}export{ee as default};
